<?xml version="1.0"?>
<interface>
	<menu id="formatting-menu">
		<section>
			<item>
				<attribute name="label" translatable="yes">_Bold</attribute>
				<attribute name="action">win.bold</attribute>
			</item>
			<item>
				<attribute name="label" translatable="yes">_Italic</attribute>
				<attribute name="action">win.italic</attribute>
			</item>
			<item>
				<attribute name="label" translatable="yes">_Underline</attribute>
				<attribute name="action">win.underline</attribute>
			</item>
		</section>
		<section>
			<item>
				<attribute name="label" translatable="yes">_Cut</attribute>
				<attribute name="action">win.cut</attribute>
			</item>
			<item>
				<attribute name="label" translatable="yes">_Copy</attribute>
				<attribute name="action">win.copy</attribute>
			</item>
			<item>
				<attribute name="label" translatable="yes">_Paste</attribute>
				<attribute name="action">win.paste</attribute>
			</item>
			<item>
				<attribute name="label" translatable="yes">_Delete</attribute>
				<attribute name="action">win.cut</attribute>
			</item>
		</section>
		<section>
			<item>
				<attribute name="label" translatable="yes">Insert _Time</attribute>
				<attribute name="action">win.insert-time</attribute>
			</item>
			<item>
				<attribute name="label" translatable="yes">Add/Remove _Hyperlink</attribute>
				<attribute name="action">win.hyperlink</attribute>
			</item>
		</section>
	</menu>
	<menu id="main-window-menu">
		<section>
			<item>
				<attribute name="label" translatable="yes">_Search</attribute>
				<attribute name="action">app.search</attribute>
			</item>
		</section>
		<section>
			<item>
				<attribute name="label" translatable="yes">Pr_eferences</attribute>
				<attribute name="action">app.preferences</attribute>
			</item>
			<item>
				<attribute name="label" translatable="yes" context="Main menu">_Import</attribute>
				<attribute name="action">app.import</attribute>
			</item>
			<item>
				<attribute name="label" translatable="yes" context="Main menu">_Export</attribute>
				<attribute name="action">app.export</attribute>
			</item>
			<item>
				<attribute name="label" translatable="yes">_Print diary</attribute>
				<attribute name="action">app.print</attribute>
			</item>
		</section>
		<section>
			<item>
				<attribute name="label" translatable="yes">_About Almanah Diary</attribute>
				<attribute name="action">app.about</attribute>
			</item>
			<item>
				<attribute name="label" translatable="yes">_Quit</attribute>
				<attribute name="action">app.quit</attribute>
			</item>
		</section>
	</menu>

	<object class="GtkListStore" id="event_store">
		<columns>
			<column type="AlmanahEvent"/><!-- Event object -->
			<column type="gchararray"/><!-- Icon name -->
			<column type="guint"/><!-- Factory type ID -->
			<column type="gchararray"/><!-- Event value -->
			<column type="gchararray"/><!-- Event source -->
		</columns>
	</object>

	<template class="AlmanahMainWindow" parent="GtkApplicationWindow">
		<property name="title" translatable="yes">Almanah Diary</property>
		<property name="hide-titlebar-when-maximized">True</property>
		<signal name="delete-event" handler="mw_delete_event_cb"/>
		<property name="default-width">640</property>
		<property name="default-height">480</property>

		<child type="titlebar">
			<object class="GtkHeaderBar" id="header_bar">
				<property name="show_close_button">True</property>

				<child>
					<object class="GtkMenuButton">
						<property name="menu-model">main-window-menu</property>
						<child>
							<object class="GtkImage">
								<property name="icon-name">open-menu-symbolic</property>
							</object>
						</child>
					</object>
					<packing>
						<property name="pack-type">end</property>
					</packing>
				</child>

				<child>
					<object class="GtkMenuButton">
						<property name="menu-model">formatting-menu</property>
						<child>
							<object class="GtkImage">
								<property name="icon-name">format-text-rich-symbolic</property>
							</object>
						</child>
					</object>
					<packing>
						<property name="pack-type">end</property>
					</packing>
				</child>

				<child>
					<object class="GtkToggleButton">
						<property name="action-name">win.important</property>
						<child>
							<object class="GtkImage">
								<property name="icon-name">starred-symbolic</property>
							</object>
						</child>
					</object>
					<packing>
						<property name="pack-type">end</property>
					</packing>
				</child>

				<child>
					<object class="GtkToggleButton" id="show_tags_toggle_button">
						<property name="action-name">win.show-tags</property>
						<child>
							<object class="GtkImage">
								<property name="icon-name">org.gnome.Almanah-tags-symbolic</property>
							</object>
						</child>
					</object>
					<packing>
						<property name="pack-type">end</property>
					</packing>
				</child>
			</object>
		</child>

		<child>
			<object class="GtkBox" id="vbox3">
				<property name="orientation">vertical</property>
				<property name="spacing">6</property>
				<child>
					<object class="GtkGrid" id="content_grid">
						<property name="orientation">GTK_ORIENTATION_VERTICAL</property>
						<property name="row_spacing">0</property>
						<style>
							<class name="almanah-mw-main-content"/>
						</style>
						<child>
							<object class="AlmanahEntryTagsArea" id="entry_tags_area">
								<property name="visible">False</property>
								<property name="no-show-all">True</property>
								<property name="vexpand">False</property>
								<property name="hexpand">True</property>
								<property name="column-spacing">6</property>
								<property name="row-spacing">6</property>
								<property name="margin_top">0</property>
								<property name="margin_start">0</property>
								<property name="margin_end">0</property>
								<property name="margin_bottom">0</property>
								<property name="border-width">6</property>
							</object>
							<packing>
								<property name="left_attach">0</property>
								<property name="top_attach">0</property>
								<property name="width">1</property>
								<property name="height">1</property>
							</packing>
						</child>
						<child>
							<object class="GtkScrolledWindow" id="entry_scrolled">
								<property name="can-focus">True</property>
								<property name="hscrollbar-policy">GTK_POLICY_NEVER</property>
								<property name="vscrollbar-policy">GTK_POLICY_AUTOMATIC</property>
								<property name="shadow-type">GTK_SHADOW_IN</property>
								<property name="hexpand">True</property>
								<property name="vexpand">True</property>
								<style>
									<class name="almanah-mw-scrolled"/>
									<class name="view"/>
								</style>
								<child>
									<object class="GtkSourceView" id="entry_view">
										<property name="width-request">500</property>
										<property name="can-focus">True</property>
										<property name="has-focus">True</property>
										<property name="wrap-mode">GTK_WRAP_WORD_CHAR</property>
										<property name="halign">center</property>
										<property name="hexpand">False</property>
										<property name="vexpand">True</property>
										<property name="margin-start">20</property>
										<property name="margin-end">20</property>
										<style>
											<class name="almanah-mw-entry-view"/>
										</style>
										<child internal-child="accessible">
											<object class="AtkObject" id="a11y-entry_view">
												<property name="AtkObject::accessible-name" translatable="yes">Entry editing area</property>
											</object>
										</child>
									</object>
								</child>
							</object>
							<packing>
								<property name="left_attach">0</property>
								<property name="top_attach">1</property>
								<property name="width">1</property>
								<property name="height">1</property>
							</packing>
						</child>
					</object>
					<packing>
						<property name="expand">True</property>
						<property name="fill">True</property>
					</packing>
				</child>
				<child>
					<object class="GtkExpander" id="events_expander">
						<child type="label">
							<object class="GtkBox" id="almanah_mw_events_expander_label_box">
								<property name="orientation">horizontal</property>
								<property name="spacing">6</property>
								<child>
									<object class="GtkLabel" id="almanah_mw_events_label">
										<property name="label" translatable="yes">Past events</property>
										<accessibility>
											<relation target="events_tree_view" type="label-for"/>
										</accessibility>
										<attributes>
											<attribute name="weight" value="PANGO_WEIGHT_BOLD"/>
										</attributes>
									</object>
									<packing>
										<property name="expand">False</property>
										<property name="fill">True</property>
									</packing>
								</child>
								<child>
									<object class="GtkLabel" id="events_count_label">
									</object>
									<packing>
										<property name="expand">False</property>
										<property name="fill">True</property>
									</packing>
								</child>
							</object>
						</child>
						<child>
							<object class="GtkScrolledWindow" id="scrolledwindow2">
								<property name="can-focus">True</property>
								<property name="hscrollbar-policy">GTK_POLICY_AUTOMATIC</property>
								<property name="vscrollbar-policy">GTK_POLICY_AUTOMATIC</property>
								<property name="shadow-type">GTK_SHADOW_IN</property>
								<property name="height-request">150</property>
                                                                <style>
                                                                  <class name="almanah-events-scrolled"/>
                                                                </style>
								<child>
									<object class="GtkTreeView" id="events_tree_view">
										<property name="model">event_store</property>
										<property name="can-focus">True</property>
										<property name="headers-visible">False</property>
										<signal name="row-activated" handler="mw_events_tree_view_row_activated_cb"/>
										<accessibility>
											<relation target="almanah_mw_events_label" type="labelled-by"/>
										</accessibility>
										<child internal-child="accessible">
											<object class="AtkObject" id="a11y-events_tree_view">
												<property name="AtkObject::accessible-name" translatable="yes">Past Event List</property>
											</object>
										</child>
										<child>
											<object class="GtkTreeViewColumn" id="column3">
												<child>
													<object class="GtkCellRendererPixbuf" id="renderer3"/>
													<attributes>
														<attribute name="icon-name">1</attribute>
													</attributes>
												</child>
											</object>
										</child>
										<child>
											<object class="GtkTreeViewColumn" id="almanah_mw_event_value_column">
												<property name="expand">True</property>
												<child>
													<object class="GtkCellRendererText" id="almanah_mw_event_value_renderer"/>
													<attributes>
														<attribute name="text">3</attribute>
													</attributes>
												</child>
											</object>
										</child>
										<child>
											<object class="GtkTreeViewColumn" id="almanah_mw_event_source_column">
												<child>
													<object class="GtkCellRendererText" id="almanah_mw_event_source_renderer"/>
													<attributes>
														<attribute name="markup">4</attribute>
													</attributes>
												</child>
											</object>
										</child>
									</object>
								</child>
							</object>
						</child>
					</object>
					<packing>
						<property name="fill">False</property>
						<property name="expand">False</property>
					</packing>
				</child>
			</object>
		</child>
	</template>
</interface>
